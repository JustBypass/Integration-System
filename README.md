# Integration-System
Система интеграции между СУП и СТ

### Логирование:

Мы используем стандартную библиотеку `logging` для логирования. Уровень логирования установлен на `DEBUG`, чтобы захватывать всю информацию, включая информацию, предупреждения и ошибки.  
Все важные события (получение запроса, отправка запроса, ошибки) будут логироваться с помощью `logger.info()`, `logger.error()`, `logger.warning()`.

### API:

Мы создаем простой API-эндпоинт `/api/receive`, который принимает POST-запросы с данными в формате JSON.  
В обработчике POST-запроса данные отправляются на внешний сервис через `requests.post`. Если запрос успешен, возвращается статус 200, в противном случае — ошибка 500.

### Планировщик (APScheduler):

Мы используем библиотеку `APScheduler` для создания фоновой задачи, которая будет запускаться каждую минуту. В задаче мы отправляем GET-запросы на два сервиса и логируем ответы.  
Для планирования используется метод `add_job`, который настроен на интервал в 60 секунд (`seconds=60`).

### Запуск приложения:

Когда приложение запускается, планировщик начинает свою работу и будет отправлять запросы к внешним сервисам каждую минуту.  
При получении POST-запросов приложение будет логировать все события и обрабатывать запросы.

### Пример логов:

Пример вывода в консоли:

```yaml
2024-11-05 10:15:01,234 INFO     Sending request to Service 1 at https://example.com/api/service1
2024-11-05 10:15:02,234 INFO     Success response from Service 1: {"key": "value"}
2024-11-05 10:15:02,235 INFO     Sending request to Service 2 at https://example.com/api/service2
2024-11-05 10:15:03,236 INFO     Success response from Service 2: {"status": "ok"}
2024-11-05 10:16:01,234 INFO     Scheduled task started
2024-11-05 10:16:02,234 INFO     Data from Service 1: {'key': 'value'}
2024-11-05 10:16:02,235 INFO     Data from Service 2: {'status': 'ok'}
2024-11-05 10:16:03,234 INFO     Scheduled task finished
